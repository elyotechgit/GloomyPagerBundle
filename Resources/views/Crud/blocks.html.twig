{% block crud %}
    {{ crud_stylesheets(crud) }}
    {{ crud_javascripts(crud) }}
    {{ crud_content(crud) }}
{% endblock %}


{% block crud_stylesheets %}
    {% if crud.view == 'list' %}
        {{ datagrid_stylesheets(crud.datagrid) }}
    {% else %}
        <link href="{{ asset('bundles/gloomypager/css/gloomy-pager.css') }}" rel="stylesheet" type="text/css" />
    {% endif %}
{% endblock %}


{% block crud_javascripts %}
    {% if crud.view == 'list' %}
        {{ datagrid_javascripts(crud.datagrid) }}
    {% endif %}
{% endblock %}


{% block crud_content %}
    {% if crud.view == 'list' %}
        {{ crud_list(crud) }}
    {% elseif crud.view == 'add' %}
        {{ crud_add(crud) }}
    {% elseif crud.view == 'edit' %}
        {{ crud_edit(crud) }}
    {% endif %}
{% endblock %}


{% block crud_list %}
    {{ datagrid_content(crud.datagrid) }}
{% endblock %}


{% block crud_add %}
    <div class="gloomy-form">
        <h1>{{ 'Add'|trans({}, 'crud') }}</h1>
        <form {{ form_enctype(form) }}
              method="post"
              action="{{ path( crud.route, array_merge(crud.getConfig('addToURL'), array_combine( [crud.getConfig('viewVar')], ['add'] ) ) ) }}"
              >
            {{ crud_form(crud, form) }}
            <div class="gloomy-form-actions">
                <input type="submit" value="{{ "Save"|trans([], 'crud') }}">
                <input type="button" onclick="javascript:document.location.replace('{{ path(crud.route, crud.getConfig('addToURL')) }}')" value="{{ "Cancel"|trans([], 'crud') }}">
            </div>
        </form>
    </div>
{% endblock %}


{% block crud_edit %}
    <div class="gloomy-form">
        <h1>{{ 'Edit'|trans({}, 'crud') }}</h1>
        <form {{ form_enctype(form) }}
              method="post"
              action="{{ path(crud.route, array_merge(crud.getConfig('addToURL'), array_combine( [crud.getConfig('idVar'), crud.getConfig('viewVar')], [item.id, 'edit'] ) ) ) }}"
              >
            {{ crud_form(crud, form) }}
            <div class="gloomy-form-actions">
                <input type="submit" value="{{ "Save"|trans([], 'crud') }}">
                <input type="button" onclick="javascript:document.location.replace('{{ path(crud.route, crud.getConfig('addToURL')) }}')" value="{{ "Cancel"|trans([], 'crud') }}">
            </div>
        </form>
    </div>
{% endblock %}


{% block crud_form %}
{#     {% form_theme form 'GloomyPagerBundle:Form:form_layout.html.twig' %}#}
    {{ form_widget(form) }}
{% endblock %}